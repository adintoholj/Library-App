<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
  xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
  xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
  x:Class="BibliothequariaFrontend.Pages.Settings"
  BackgroundColor="#4A4646"
  Shell.NavBarIsVisible="False"
  Padding="0">

    <Grid ColumnDefinitions="373, *">

        <!-- NAV BAR -->
        <Grid
      Grid.Column="0"
      BackgroundColor="#FDBF1D"
      RowDefinitions="100,*,60"
      Padding="20">

            <!-- Row 0: Logo -->
            <Image
        Grid.Row="0"
        Source="bibliothequarialogo.png"
        HeightRequest="80"
        HorizontalOptions="Start"
        VerticalOptions="Center" />

            <!-- Row 1: Main nav items -->
            <StackLayout
        Grid.Row="1"
        Spacing="40"
        Padding="10,20,0,0">

                <!-- Dashboard -->
                <StackLayout Orientation="Horizontal" Spacing="15" VerticalOptions="Center" Margin="0,20,0,0">
                    <StackLayout.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnDashboardTapped" />
                    </StackLayout.GestureRecognizers>
                    <Image Source="dashboard.png" HeightRequest="24" WidthRequest="24" />
                    <Label
            Text="Dashboard"
            FontFamily="PoppinsBold"
            FontSize="18"
            TextColor="Black"
            VerticalOptions="Center" />
                </StackLayout>

                <!-- Member operations -->
                <StackLayout Orientation="Horizontal" Spacing="15" VerticalOptions="Center">
                    <StackLayout.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnMemberOperationsTapped" />
                    </StackLayout.GestureRecognizers>
                    <Image Source="memberoperations.png" HeightRequest="24" WidthRequest="24" />
                    <Label
            Text="Member operations"
            FontFamily="PoppinsBold"
            FontSize="18"
            TextColor="Black"
            VerticalOptions="Center" />
                </StackLayout>

                <!-- Book operations -->
                <StackLayout Orientation="Horizontal" Spacing="15" VerticalOptions="Center">
                    <StackLayout.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnBookOperationsTapped" />
                    </StackLayout.GestureRecognizers>
                    <Image Source="bookoperations.png" HeightRequest="24" WidthRequest="24" />
                    <Label
            Text="Book operations"
            FontFamily="PoppinsBold"
            FontSize="18"
            TextColor="Black"
            VerticalOptions="Center" />
                </StackLayout>

                <!-- Search -->
                <StackLayout Orientation="Horizontal" Spacing="15" VerticalOptions="Center">
                    <StackLayout.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnSearchTapped" />
                    </StackLayout.GestureRecognizers>
                    <Image Source="searchoperations.png" HeightRequest="24" WidthRequest="24" />
                    <Label
            Text="Search"
            FontFamily="PoppinsBold"
            FontSize="18"
            TextColor="Black"
            VerticalOptions="Center" />
                </StackLayout>

            </StackLayout>

            <!-- Row 2: Settings (selected) -->
            <Frame
        Grid.Row="2"
        BackgroundColor="#3A3428"
        CornerRadius="8"
        Padding="10"
        HasShadow="False"
        HorizontalOptions="Fill"
        Margin="-10,10,10,-5">
                <StackLayout Orientation="Horizontal" Spacing="15" VerticalOptions="Center">
                    <Image Source="settings.png" HeightRequest="24" WidthRequest="24" />
                    <Label
            Text="Settings"
            FontFamily="PoppinsBold"
            FontSize="18"
            TextColor="White"
            VerticalOptions="Center" />
                </StackLayout>
            </Frame>
        </Grid>

        <!-- MAIN CONTENT -->
        <Grid
      Grid.Column="1"
      RowDefinitions="Auto,*,Auto"
      Padding="30">

            <!-- Header -->
            <Grid Grid.Row="0" ColumnDefinitions="*,Auto">
                <StackLayout Spacing="5">
                    <Label
            Text="Settings"
            FontFamily="PoppinsBold"
            FontSize="24"
            TextColor="White" />
                </StackLayout>
                <Image
          Grid.Column="1"
          Source="pfp.png"
          HeightRequest="50"
          WidthRequest="50"
          HorizontalOptions="End"
          VerticalOptions="Center" />
            </Grid>

            <!-- Options -->
            <Grid
        Grid.Row="1"
        RowDefinitions="Auto,Auto,Auto,Auto"
        ColumnDefinitions="*,Auto"
        RowSpacing="30"
        VerticalOptions="Center">

                <!-- Dark mode -->
                <Label
          Grid.Row="0" Grid.Column="0"
          Text="Dark mode"
          FontFamily="PoppinsRegular"
          FontSize="16"
          TextColor="White"
          VerticalOptions="Center" />
                <Switch
          Grid.Row="0" Grid.Column="1"
          IsToggled="{Binding IsDarkMode}"
          VerticalOptions="Center" />

                <!-- Require password on startup -->
                <Label
          Grid.Row="1" Grid.Column="0"
          Text="Require password on startup"
          FontFamily="PoppinsRegular"
          FontSize="16"
          TextColor="White"
          VerticalOptions="Center" />
                <Switch
          Grid.Row="1" Grid.Column="1"
          IsToggled="{Binding RequirePasswordOnStartup}"
          VerticalOptions="Center" />

                <!-- Notifications -->
                <Label
          Grid.Row="2" Grid.Column="0"
          Text="Notifications"
          FontFamily="PoppinsRegular"
          FontSize="16"
          TextColor="White"
          VerticalOptions="Center" />
                <Switch
          Grid.Row="2" Grid.Column="1"
          IsToggled="{Binding EnableNotifications}"
          VerticalOptions="Center" />

                <!-- Theme accent -->
                <Label
          Grid.Row="3" Grid.Column="0"
          Text="Theme accent"
          FontFamily="PoppinsRegular"
          FontSize="16"
          TextColor="White"
          VerticalOptions="Center" />
                <Picker
          Grid.Row="3" Grid.Column="1"
          ItemsSource="{Binding AccentOptions}"
          SelectedItem="{Binding SelectedAccent}"
          WidthRequest="150"
          VerticalOptions="Center" />
            </Grid>

            <!-- Spacer row if needed -->
            <BoxView Grid.Row="2" HeightRequest="20" Color="Transparent" />

        </Grid>
    </Grid>
</ContentPage>
